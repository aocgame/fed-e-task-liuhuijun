### 开发脚手架与自动化构建工作流封装

#### 任务一：工程化概述

##### 1、前端工程化主要解决的问题
+ 主要解决的问题：
  + 传统语言或语法的弊端
  + 无法使用模块化/组件化
  + 重复的机械工作
  + 代码风格统一、质量保证
  + 依赖后端服务接口支持
  + 整体依赖后端项目

##### 2、工程化的表现
+  工程化：一切以提高效率、降低成本、质量保证为目的的手段都属于工程化
+ 工程化在项目中的应用：
  + 创建项目：创建项目结构、创建特定类型的文件
  + 编码：格式化代码、效验代码风格、编译/构建/打包
  + 预览/测试：Web Server/Mock、Live Reloading/HMR、Source Map
  + 提交：Git Hooks、Lint-staged、持续集成
  + 部署：CI/CD、自动发布
+ 工程化内容概要：
  + 脚手架工具开发
  + 自动化构建系统
  + 模块化打包
  + 项目代码规范化
  + 自动化部署

#### 任务二：脚手架工具

##### 1、 Yeoman基础使用
+ 安装模块：
  + yarn global add yo
  + yarn global add generator-node
  + yo node
  + yo node:cli
  + yarn link
  + 

##### 2、Yeoman使用步骤总结
+ 1、明确你的需求
+ 2、找到合适的Generator
+ 3、全局范围安装找到的Generator
+ 4、通过Yo运行对应的Generator
+ 5、通过命令行交互填写选项
+ 6、生成你所需要的项目结构

##### 3、创建Generator模块
+ 步骤：
  + 创建generator-sample文件夹
  + yarn init
  + yarn add yeoman-generator
  + 创建app文件夹，此目录下编写index.js(入口文件)
  + yarn link
  + 在其它的文件夹中使用yo sample,则会自动执行generator-sample的包
  + 创建模板文件夹：app>templates

##### 4、Vue Generator 案例
+ 创建generator-vue文件夹
+ yarn init
+ yarn add yeoman-generator
+ 创建generators文件夹，在此目录下创建app文件夹，此目录下编写index.js(入口文件)
+ 将vue项目的目录拷贝至app文件下的templates文件夹下，并替换为模板变量

##### 5、发布Generator
+ 发布写好的脚手架
  + 当前项目建立ignore文件 echo node_modules > .gitignore
  + git init
  + git status
  + git add .
  + git commit -m "initial commit"
  + git remote add origin <%= git仓库地址 %>
  + git push -u origin master
  + npm publish

##### 6、plop的基本使用
+ yarn add plop -D
+ 项目根目录下新建plopfile.js
+ 在plopfile.js文件中定义脚手架任务
+ 编写用于生成特定类型文件的模板
+ 通过Plop提供的CLI运行脚手架任务

#### 任务三：自动化构建

##### 1、自动化构建初体验
+ npm script来包装脚本命令
+ "build": "sass main.scss css/style.css --watch",  监听scss文件变化
+ "server": "browser-sync . --files \"css/*.css\"",  服务器监听文件变化
+ "start": "run-p build server"  

##### 2、grunt的基本使用
+ yarn add grunt -D
+ 根目录下新建gruntfile.js（入口文件）

##### 3、grunt标记任务失败
+ 同步任务 return false
+ 异步任务先定义 done = this.async,然后异步代码中添加done(false)


